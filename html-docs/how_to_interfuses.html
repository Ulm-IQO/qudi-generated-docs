<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Qudi: Interfuses</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Qudi
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Interfuses </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>General Definition</h2>
<p>Building on the abstraction of interfaces, Qudi introduces an additional concept to reuse modules for different tasks. Such modules are called interfuse files (in contrast to interfaces).</p>
<p>These files interconnect (or fuse) different hardware or logic modules to modify interface behavior or to achieve a task that these modules were originally not designed for. The main task of an interfuse is to convert the calls of a logic module using an interface A to an interface B or to modify the behavior of an interface. By construction, interfuses are logic modules that happen to implement interfaces for hardware modules. Therefore interfuse files are situated in the folder </p><pre class="fragment">./logic/interfuse
</pre><p>Since the core logic operations remain in the specific logic module and are not re-implemented to satisfy new hardware interfaces and the initial hardware modules are not touched we retain modular structure and compatibility to old interfaces. This practice improves maintainability and prevents code duplication.</p>
<h2>Examples for Interfuses</h2>
<p>In order to understand the concept and intension of interfuses and their implementation some examples are given in the following.</p>
<h3>Interfuse replaces a counter by a spectrometer in Confocal logic</h3>
<p>A confocal image (2D array) can represent single fluorescence values from a photon counter for each tuple of position (x, y). Using an interfuse, we can replace the counter with a spectrometer and obtain a depiction of a selected fluorescence wavelength value depending on the position (x, y) in the scanner image. The interfuse for that example is the file </p><pre class="fragment">confocal_scanner_spectrometer_interfuse.py
</pre><h3>Interfuse combines motorized stage with magnet logic</h3>
<p>As a second example, a magnet logic controls the magnetic field e.g. by adjusting the current though different coils. A stepper motor with a permanent magnet attached can later replace the coils. The magnet motor interfuse serves as mediator converting the magnetic field change request by altering the position of the magnet in relation to the sample. Instead of rewriting the interface to the coils (which might be used elsewhere as well) to fit both methods and alter the magnet logic and GUI to use the new interface, an interfuse allows both to be addressed without any changes to logic and GUI.</p>
<p>In order to be addressed by the (magnet) logic the magnet_motor_interfuse should inherit the (magnet) interface and reimplement (overload) each method from the magnet interface. Given the fact that it will convert a magnet logic call to a motor hardware call, the magnet_motor_interfuse file has to stick to the interfaces methods of the motor interface. The interfuse for that example is the file. </p><pre class="fragment">magnet_motor_interfuse.py
</pre><h3>Interfuse enables tilt correction by altering the interface calls</h3>
<p>An interfuse can also be used as an additional layer between the already existing logic and hardware, e.g. calculating a tilt correction of a position scan and altering the way of scanning. As a result, an actually tilted surface appears flat again in the confocal image and can then be imaged at a consistent depth. The interfuse for that example is the file </p><pre class="fragment">scanner_tilt_interfuse.py </pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
